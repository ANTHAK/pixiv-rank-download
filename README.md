### 关于此项目

为了方便获取[PIXIV](https://www.pixiv.net/)每日排行榜的图片孕育而生的

- 获取排行
- 对每个画师创建单独的文件夹保存他的图片，文件夹名格式:画师名称_ID=画师ID
- 保存文件夹到配置文件里面配置的目录
- 对黑名单的画师的图片不进行下载
- 自动添加黑名单目录里的画师到黑名单,并删除黑名单目录下的图片

目前项目的主要功能就是这些

### 使用

第一次运行exe文件会创建 1.黑名单目录 2.黑名单.json 3.config.txt 4.下载目录

1. 当下载图片后,可能这个画师的风格你不喜欢,你可以将此画师的文件夹拖放在此目录下,下次运行程序时会把画师加入黑名单.json,并删除黑名单目录下的图片
2. 黑名单.json为自动生成的,如果不知道json就不要删除里面的东西,因为目前程序还没有对黑名单进行备份的功能
3. config.txt里面的默认设置是在下载目录下载,下载目录是临时目录,下载后你可以手动剪切你认为好看的到仓库目录里,你认为需要添加黑名单的剪切到黑名单目录里,发送邮件暂时还不支持,所以下面的配置无所谓
4. 下载目录(程序生成的),默认配置里的下载目录,后面修改配置后就不会在此目录进行下载

初始化完成后就会自动进入下载,常见问题下方已经写了专门的处理办法

配置文件修改:

![默认配置](.\Pictures\配置信息.png)

这是默认配置,只需修改--之后的文本内容即可,例如:想要修改仓库为c:\下载

![修改后](.\Pictures\修改.png)

邮箱相关的暂时还没有处理

### 可能出现的问题

- 程序闪退:其实这是我这边编码的问题,后面会用代码抛出异常避免闪退,第一是配置文件的问题,检查一下目录是否是绝对路径,第二可能是黑名单目录里面放入不是画师的目录导致,第三可能是黑名单.json人为的错误修改过
- 程序进入数据处理第一页数据阶段闪退:后面抛异常来解决,可能是你的网上不了PIXIV这个网站,请使用科学上网
- 程序进入下载阶段卡住并过段时间闪退:后面抛异常来解决,重启程序即可
- 进度条不停往下刷新:这个是代码没法修复的,因为使用cmd来输出内容,cmd的缓冲区长度不够就会进入下一行,导致不停往下刷新,解决办法增加缓冲区长度,以下是修改步骤

![进度条问题](.\Pictures\进度条问题.png)

实际上开始处理应该在一行刷新的,解决办法如下

![1](.\Pictures\解决1.png)

![2](.\Pictures\解决2.png)

这样就解决了,重新运行程序即可

![解决后](.\Pictures\完成后.png)

### 关于源码

这个项目的目的,最开始是方便我自己使用的,后来代码量越来越大,我朋友也开始想使用,我就将原始代码进行修改生成小白的也可以使用的exe文件,同时也是记录学习的一个笔记,源码也会放在一起,供大家学习,其实现在的代码是我原始项目的一半,我自己用的代码有400行代码,主要是没有任何输出,并且需要修改py文件,所以不适合小白使用

### 未来更新计划

- 解决闪退:程序出现异常也不会闪退,给与原始错误信息(后续会进行更详细的异常处理来提示不同的错误信息)
- 日志:将调试信息输出到日志文件,后续会用于邮件的附件
- 支持QQ邮件发送通知结果(其他邮件的设置在考虑中)
- 更新进度条显示方式:现在进度条比较死板后续会进行修改
- 目前的代码还不适合进行任务计划部署,后续完善代码后会写教程如何部署任务计划,每日自动运行

### 期望

不论是小白或者是大佬,都可以给我提出修改建议,不论是功能方面还是代码方面,如果使用时候有什么使用不佳的地方都可以给我提出,qq邮箱:754587525@qq.com